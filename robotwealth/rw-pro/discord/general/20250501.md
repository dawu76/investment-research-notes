### 2025 May Discord notes

---

Question for Kris: "Wonder if when you have time you could share your experience on this? It was related to the blogpost that Nx0 shared."

> Never tried it seriously in the time series like in the post, but my professional trading life was mostly low-latency spread trading. It was.... difficult to say the least. Personally, I would never try to do it as a solo trader in tradfi markets. Just too much to manage and so much that can go wrong in a highly competitive arena. It would be more conceivable for indie traders in crypto - but likely getting harder (we did a bit of this back in the FTX days), or possibly in less liquid/mature markets. But it's a full time job.
>
> ... Assuming you weren't click trading it Kris, what was the most operationally intensive part of it? Do you have any stories of things that did go wrong and how you managed them?

Kris: Let's start with the fact that there are different stages of the life cycle of a trading system like the one we were running
- Research and model development
- Execution software development, including compliance with exchange requirements
- Tracking and monitoring - especially fills vs "arrival price" - there are challenges of quoting both legs (one will inevitably run away from you at some point).
- Measuring latency at different points in the system.
- Babysitting live trading and fixing issues on the fly
- Improving and iterating 
- Interpreting results of monitoring 
- Faster execution
- Smarter quoting/hitting algorithm
- Each of those stages has its own problems. And most of those stages overlap with one another in time - they're all happening in parallel, essentially. So even the prioritisation and project management aspects have their own challenges. 

It's hard to say what the biggest issues were. But when I was doing the global futures stuff, the execution challenges were significant. Part of our edge was just providing liquidity to lumpy flow. We were hedging the risk elsewhere. Our hedging algorithm would try to quote that leg as well, which is really difficult to do in practice. We spent a lot of time on that thing. 

When we were doing it in crypto, it was more your traditional latency arbitrage - see a stale quote that's far enough from your model of fair value to be worth your while and try to be the first to hit it. Since we were just hitting quotes, the execution was a lot simpler... we essentially managed it with "fill or kill" type orders. And we didn't bother hedging... just let the variance wash out over time. 

With the crypto stuff, we were also aware that there was a limit to how much we could compete. There would come a time when someone faster or with a better model would simply outcompete us. Figuring out when to pull the pin and when to engage in the arms race was a real challenge that required understanding the opportunity, as well as the opportunity cost of prioritising this over other opportunities.

---

Question: How do you guys allocate you portfolio cash between strategies? I'm only trading the TLAQ strategies and have just allocated a specific amount of cash to each strategy (their vol_target % of all the summed vol_targets). But this mean that quite a big part of the portfolio is in cash most of the time, which seems rather suboptimal.
- Euan: For me with TLAQ each strategy adds or subtracts to a master list of netted positions, with the value added or subtracted based on the target volatility and symbolâ€™s recent volatility. That list is then squashed such that the sum of the positions fits into a % of my overall portfolio That way I avoided having money parked in cash, or since I now use leveraged ETFs, frees up cash for other strategies.
- Kris: If you have a lot of spare cash, your portfolio vol target could be on the low side. There's nothing wrong with that per se, but it sounds like maybe you could stomach more vol. What's your current portfolio vol target?

This is how I have set it up atm:

```
risk_premia = {
    RiskpremiaEtfs.BONDS: 4,
    RiskpremiaEtfs.SP500: 5,
    RiskpremiaEtfs.GOLD: 3
    } (so 12)

window_dressing = 3
fund_rebalance = 3
```

So the way I calculate how much of the portfolio every strategy can use is by summing the above targets and the allocating their percentage of the total target. Which means risk premia is basically allocated 66% of my portfolio cash, and the other strats get 16.66% each. So if the vol is low, risk premia can max use 66% of the portfolio. So this is where I'm unsure if this is the correct way to do it, as even if this is fully invested I will still be 33% in cash across some of each month as the seasonal effects arent in play. 

Kris: I think I can see what's happening here ... You're treating your cash allocation as if it's derived directly from your vol targets. When you're setting vol targets, it's helpful to think in terms of your portfolio "vol budget" - this is the total amount of vol you want to distribute among the portfolio components. It's analogous to having a capital budget that you distribute proportionally. But it's not the same thing. 

In your case, RPH has a vol target of 12, which is 66% of your portfolio's vol budget ... not 66% of its capital. The actual position sizes that translates to will depend on the volatility of the underlying assets. The general formula for the position size in dollars is: `target_vol/realised_vol * capital`.

Say bond vol is at 12, stock vol is at 15 and gold vol is at 20. Your position sizes in dollars will be:
- Bonds: 4/12 * portfolio_value
- Stocks: 5/15 portfolio_value
- Gold: 3/20 portfolio_value

---

Question: How do you track your trades, strategies and overall portfolios? Personally I have a database where I save every transaction, strategy signal and portfolio info which I just host locally. Then I am making a simple dashboard to visualize it.
- Kris: I've pretty much gone to just tracking strategy and platform p&l in a spreadsheet. But I've really simplified my trading the last ~18 months. I used to track strategy performance pretty carefully, including stuff that I stopped trading. But now I basically do that via the strategy simulation notebooks in the lab at irregular intervals.
- I added SQLite - containing trades only - to calculate realised & unrealised P&L on the fly, and amend their open quantity contributing to P&L. This is a personal preference, to do this real time, instead of doing it periodically outside of the execution software. But probably the P&L calculation can be done with using a trades CSV file only, or with Excel voodoo.
